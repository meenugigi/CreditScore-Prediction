<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Credit Score Classification</title>
  </head>
  <body style="background-color: #e6e6e6">
    <div class="container">
      <div class="row">
        <div class="card" style="width:100%; height: 100%; margin-top:50px">
          <div class="card-header" style="text-align:center">
            <h1>Credit Score Classification</h1>
          </div>
          <div class="card-body">
            <form method="post" accept-charset="utf-8">
              <div class="column">
                  <section>
                      <h4>Basic Information:</h4>
                      <div class="row">
                              <div class="col-nd-6-form-group" style="text-align: center">
                                <label><b>Enter Customer ID:</b></label>
                                 <input type="text" class="form-control" id="id" name="id" placeholder="Enter ID" required><br />
                              </div>&nbsp&nbsp&nbsp

                              <div class="col-nd-6-form-group" style="text-align: center">
                                <label><b>Enter Customer name:</b></label>
                                 <input type="text" class="form-control" id="name" name="name" placeholder="Enter name" required><br />
                              </div>&nbsp&nbsp&nbsp


                              <div class="col-nd-6-form-group" style="text-align: center">
                                  <label><b>Select Occupation:</b></label>
                                  <select class="selectpicker form-control" id="Occupation" name="Occupation" required="1"><br />
                                    {% for occupation in occupation %}
                                      <option value="{{ occupation }}">{{ occupation }}</option><br />
                                    {% endfor %}
                                  </select><br />
                              </div>&nbsp&nbsp&nbsp


                                <div class="col-nd-6-form-group" style="text-align: center">
                                  <label><b>Enter Monthly Inhand Salary:</b></label>
                                   <input type="text" class="form-control" id="Monthly_Inhand_Salary" name="Monthly_Inhand_Salary" required placeholder="Enter amount"><br />
                                </div>&nbsp&nbsp&nbsp

                      </div>
                    </section>

                <br/>

                <section>
                    <h4>Bank Information: </h4>
                        <div class="row">

                            <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Enter Number of Bank accounts:</b></label>
                              <input type="text" class="form-control" id="Num_Bank_Accounts" name="Num_Bank_Accounts" placeholder="Enter number" required><br />
                            </div>&nbsp&nbsp&nbsp

                            <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Enter Number of Credit Cards:</b></label>
                               <input type="text" class="form-control" id="Num_Credit_Card" name="Num_Credit_Card" placeholder="Enter number" required><br />
                            </div>&nbsp&nbsp&nbsp

                        </div>
                </section>
                <br />

                <section>
                    <h4>Loan Details: </h4>
                        <div class="row">

                            <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Enter Number of Loans:</b></label>
                              <input type="text" class="form-control" id="Num_of_Loan" name="Num_of_Loan" placeholder="Enter number" required><br />
                            </div>&nbsp&nbsp&nbsp

                            <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Enter Interest Rate:</b></label>
                              <input type="text" class="form-control" id="Interest_Rate" name="Interest_Rate" placeholder="Enter rate" required><br />
                            </div>&nbsp&nbsp&nbsp
                        </div>
                </section>

                  <br/>


                <section>
                     <h4>Credit Information: </h4>
                        <div class="row">

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Delay from Due Date:</b></label>
                                   <input type="text" class="form-control" id="Delay_from_due_date" name="Delay_from_due_date" placeholder="Enter number of days of delay" required><br />
                                </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Enter Number of Delayed Payments:</b></label>
                                  <input type="text" class="form-control" id="Num_of_Delayed_Payment" name="Num_of_Delayed_Payment" placeholder="Enter number" required><br />
                                </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Number of Changed Credit Limits:</b></label>
                                  <input type="text" class="form-control" id="Changed_Credit_Limit" name="Changed_Credit_Limit" placeholder="Enter number" required><br />
                                </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Enter Number of Credit Enquires:</b></label>
                                   <input type="text" class="form-control" id="Num_Credit_Inquiries" name="Num_Credit_Inquiries" placeholder="Enter number" required><br />
                                </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Enter Credit Utilization Ratio:</b></label>
                                   <input type="text" class="form-control" id="Credit_Utilization_Ratio" name="Credit_Utilization_Ratio" placeholder="Enter amount" required><br />
                                </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Enter Credit History Age:</b></label>
                                  <input type="text" class="form-control" id="Credit_History_Age" name="Credit_History_Age" placeholder="Enter in months" required><br />
                                </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Does customer pay minimum amount:</b></label>
                              <select class="selectpicker form-control" id="Payment_of_Min_Amount" name="Payment_of_Min_Amount" required="1"><br />
                                {% for payment_min_amount in payment_min_amount %}
                                  <option value="{{ payment_min_amount }}">{{ payment_min_amount }}</option><br />
                                {% endfor %}
                              </select><br />
                            </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Enter total EMI/month:</b></label>
                                   <input type="text" class="form-control" id="Total_EMI_per_month" name="Total_EMI_per_month" placeholder="Enter amount" required><br />
                                </div>&nbsp&nbsp&nbsp

                                <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                                  <label><b>Select Credit Mix:</b></label>
                                  <select class="selectpicker form-control" id="Credit_Mix" name="Credit_Mix" required="1"><br />
                                    {% for credit_mix in credit_mix %}
                                      <option value="{{ credit_mix }}">{{ credit_mix }}</option><br />
                                    {% endfor %}
                                  </select><br />
                                </div>&nbsp&nbsp&nbsp

                              <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Select Payment Behaviour:</b></label>
                              <select class="selectpicker form-control" id="Payment_Behaviour" name="Payment_Behaviour" required="1"><br />
                                {% for payment_behaviour in payment_behaviour %}
                                  <option value="{{ payment_behaviour }}">{{ payment_behaviour }}</option><br />
                                {% endfor %}
                              </select><br />
                            </div>&nbsp&nbsp&nbsp

                          </div>
                </section>
                <br/>
                  <section>
                      <h4>Additional Information: </h4>
                        <div class="row">
                            <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Total amount for Outstanding Debts:</b></label>
                              <input type="text" class="form-control" id="Outstanding_Debt" name="Outstanding_Debt" placeholder="Enter total amount" required><br />
                            </div>&nbsp&nbsp&nbsp

                            <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Enter Amount invested monthly:</b></label>
                              <input type="text" class="form-control" id="Amount_invested_monthly" name="Amount_invested_monthly" placeholder="Enter amount" required><br />
                            </div>&nbsp&nbsp&nbsp

                            <div class="col-nd-6-form-group" style="text-align: center; width:300px">
                              <label><b>Enter Monthly Balance:</b></label>
                               <input type="text" class="form-control" id="Monthly_Balance" name="Monthly_Balance" placeholder="Enter amount" required><br />
                            </div>&nbsp&nbsp&nbsp
                        </div>
                </section>


                    <div class="row">
                        <div class="col-nd-12 form-group" style="">
                          <br/><button class="btn btn-primary form-control" onclick="send_data()">Predict Score</button>
                        </div>
                    </div>



              </div>
            </form>

            <br>
            <div class="col-nd-12" style="text-align: center">
              <h3><span id="prediction"></span> </h3>
            </div>
          </div>
        </div>
      </div>


    <div class='tableauPlaceholder' style='width: 1800px; height: 2527px;'>
        <object class='tableauViz' width='1100' height='1500' style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fprod-useast-a.online.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='site_root' value='&#47;t&#47;creditscorevisualization' />
            <param name='name' value='CreditScoreVisualization&#47;Dashboard1' />
            <param name='tabs' value='no' /><param name='toolbar' value='yes' />
            <param name='showAppBanner' value='false' />
        </object>
    </div>
</div>


   <style>
       section {
  margin: auto;
  width: 98%;
  border: 3px solid #73AD21;
  padding: 10px;
}

.row{
margin: auto;
  width: 98%;
  padding: 10px;
  }


   </style>



    <script>
      function form_handler(event) {
        event.preventDefault();
       }
      function send_data()
      {
        document.querySelector('form').addEventListener("submit",form_handler);
        var fd = new FormData(document.querySelector('form'));
        var xhr=new XMLHttpRequest();
        xhr.open('POST','/predict',true);
        document.getElementById("prediction").innerHTML = "Predicting....";

        xhr.onreadystatechange = function(){
          if(xhr.readyState == XMLHttpRequest.DONE){
            document.getElementById('prediction').innerHTML= "Credit Score: "+xhr.responseText;
          }
       };
       xhr.onload = function(){};
       xhr.send(fd);
       }
    </script>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>


    <script type='text/javascript' src='https://prod-useast-a.online.tableau.com/javascripts/api/viz_v1.js'></script>


    <footer>
        <div style="text-align: center; height: 40px; background-color: #bfbfbf">
            Developed by Menu Gigi
        </div>
    </footer>
  </body>
</html>



